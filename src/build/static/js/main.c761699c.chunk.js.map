{"version":3,"sources":["containers/Layout.js","components/Article.js","components/PostForm.js","containers/ArticleListView.js","containers/ArticleDetailView.js","containers/Login.js","containers/Routes.js","store/actions/actionTypes.js","store/actions/auth.js","App.js","reportWebVitals.js","store/utility.js","store/reducers/auth.js","index.js"],"names":["SubMenu","Menu","Header","Layout","Content","Footer","Sider","CustomLayout","props","className","theme","mode","defaultSelectedKeys","isAuthenticated","Item","to","style","padding","margin","width","defaultOpenKeys","height","icon","UserOutlined","title","LaptopOutlined","NotificationOutlined","minHeight","children","textAlign","Article","PostForm","changeHandler","e","setState","target","name","value","submitHandler","requestType","articleID","preventDefault","console","log","state","axios","post","then","res","catch","err","put","content","this","onSubmit","event","type","onChange","btnText","Component","ArticleListView","articles","get","data","length","map","art","ArticleDetailView","Artdetail","match","params","handleDelete","layout","labelCol","span","wrapperCol","tailLayout","offset","connect","loading","error","initialValues","remember","onFinish","values","onFinishFailed","errorInfo","label","rules","required","message","Password","valuePropName","htmlType","marginRight","Routes","exact","path","component","Login","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","authSuccess","token","actionTypes","logout","localStorage","removeItem","checkAuthTimeOut","expirationTime","dispatch","setTimeout","App","onTryAutoSignUp","getItem","undefined","expirationDate","Date","getTime","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","updateObject","oldObject","updatedProperties","initialState","authStart","action","authFail","authLogout","reducer","composeEnhances","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c761699c.chunk.js","sourcesContent":["import { Layout, Menu, Breadcrumb } from 'antd';\nimport { UserOutlined, LaptopOutlined, NotificationOutlined } from '@ant-design/icons';\nimport {Link} from 'react-router-dom'\n\nconst { SubMenu } = Menu;\nconst { Header, Content, Footer, Sider } = Layout;\n\nconst CustomLayout = (props) => {\n    return (\n        <Layout>\n    <Header className=\"header\">\n      <div className=\"logo\" />\n      <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\n        {\n          props.isAuthenticated ? <Menu.Item key=\"3\">Logout</Menu.Item>:<Menu.Item key=\"2\"><Link to=\"/login\">Login</Link></Menu.Item>\n        }\n        <Menu.Item key=\"1\"><Link to=\"/\">Posts</Link></Menu.Item>\n        \n        \n      </Menu>\n    </Header>\n    <Content style={{ padding: '0 50px' }}>\n      <Breadcrumb style={{ margin: '16px 0' }}>\n        <Breadcrumb.Item>Home</Breadcrumb.Item>\n        <Breadcrumb.Item>List</Breadcrumb.Item>\n        <Breadcrumb.Item>App</Breadcrumb.Item>\n      </Breadcrumb>\n      <Layout className=\"site-layout-background\" style={{ padding: '24px 0' }}>\n        <Sider className=\"site-layout-background\" width={200}>\n          <Menu\n            mode=\"inline\"\n            defaultSelectedKeys={['1']}\n            defaultOpenKeys={['sub1']}\n            style={{ height: '100%' }}\n          >\n            <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"subnav 1\">\n              <Menu.Item key=\"1\">option1</Menu.Item>\n              <Menu.Item key=\"2\">option2</Menu.Item>\n              <Menu.Item key=\"3\">option3</Menu.Item>\n              <Menu.Item key=\"4\">option4</Menu.Item>\n            </SubMenu>\n            <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"subnav 2\">\n              <Menu.Item key=\"5\">option5</Menu.Item>\n              <Menu.Item key=\"6\">option6</Menu.Item>\n              <Menu.Item key=\"7\">option7</Menu.Item>\n              <Menu.Item key=\"8\">option8</Menu.Item>\n            </SubMenu>\n            <SubMenu key=\"sub3\" icon={<NotificationOutlined />} title=\"subnav 3\">\n              <Menu.Item key=\"9\">option9</Menu.Item>\n              <Menu.Item key=\"10\">option10</Menu.Item>\n              <Menu.Item key=\"11\">option11</Menu.Item>\n              <Menu.Item key=\"12\">option12</Menu.Item>\n            </SubMenu>\n          </Menu>\n        </Sider>\n        <Content style={{ padding: '0 24px', minHeight: 280 }}>{props.children}</Content>\n      </Layout>\n    </Content>\n    <Footer style={{ textAlign: 'center' }}>Design ©2021 Created by Vineet Madeshia</Footer>\n  </Layout>\n\n    );\n}\n\nexport default CustomLayout;\n  \n  \n","import React from 'react'\n\nfunction Article() {\n    return (\n        <div>\n            Hi This is a list\n        </div>\n    )\n}\n\nexport default Article\n","import React, { Component } from 'react'\nimport axios from 'axios'\n\nclass PostForm extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             title:'',\n             content:''\n        }\n    }\n\n    changeHandler = (e) => {\n        this.setState({[e.target.name]:e.target.value})\n    }\n\n    submitHandler = (e, requestType,articleID) => {\n        e.preventDefault()\n        console.log(this.state)\n        switch(requestType){\n\n        case 'post':\n        axios.post('http://127.0.0.1:8000/api/',this.state)\n        .then(res => {\n            console.log(res)\n        })\n        .catch(err => {\n            console.log(err)\n        })\n        case 'put':\n            axios.put(`http://127.0.0.1:8000/api/${articleID}/`,this.state)\n        .then(res => {\n            console.log(res)\n        })\n        .catch(err => {\n            console.log(err)\n        })\n\n    }\n\n    }\n    \n    render() {\n        const {title,content} = this.state\n        return (\n            <div>\n                <form onSubmit={(event)=>this.submitHandler(event,this.props.requestType,this.props.articleID )}>\n                    <div>\n                        <input type=\"text\" name=\"title\" value={title} onChange={this.changeHandler} />\n                    </div>\n                    <div>\n                        <input type=\"text\" name=\"content\" value={content} onChange={this.changeHandler} />\n                    </div>\n                    <button type=\"submit\">{this.props.btnText}</button>\n                </form>\n                \n            </div>\n        )\n    }\n}\n\nexport default PostForm\n","import React, { Component } from 'react'\nimport Article from '../components/Article'\nimport axios from 'axios'\nimport PostForm from '../components/PostForm'\n\n\nclass ArticleListView extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             articles :[]\n        }\n    }\n\n    componentDidMount(){\n        \n        axios.get('http://127.0.0.1:8000/api/')\n        .then(res => {\n            this.setState({articles: res.data})\n                \n            \n        })\n    }\n    \n    render() {\n        const {articles} = this.state\n        return (\n            <div>\n                List of articles\n                {\n                    articles.length ?\n                    articles.map(art => <div key={art.title}> {art.title} </div>):\n                    null\n                }\n                <PostForm requestType=\"post\"\n                articleID={null}\n                btnText=\"Create\" />\n            </div>\n        )\n    }\n}\n\nexport default ArticleListView\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport {Card} from 'antd'\nimport PostForm from '../components/PostForm'\n\n\nexport class ArticleDetailView extends Component {\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n             Artdetail:{}\n        }\n    }\n\n    componentDidMount(){\n        const articleID = this.props.match.params.articleID;\n        axios.get(`http://127.0.0.1:8000/api/${articleID}`)\n        .then(res => {\n            this.setState({Artdetail:res.data})\n        })\n    }\n    // handleDelete = (event) => {\n    //     const articleID = this.props.match.params.articleID;\n    //     axios.delete(`http://127.0.0.1:8000/api/${articleID}`)\n    //     this.props.history.push('/')\n    //     this.forceUpdate()\n\n    // }\n    \n    render() {\n        return (\n            <div>\n                <Card >\n                {this.state.Artdetail.title}\n                {\n                    <div> {this.state.Artdetail.content} </div>\n                    \n                }\n\n                </Card>\n                <PostForm requestType=\"put\"\n                articleID={this.props.match.params.articleID} \n                btnText=\"Update\"/>\n\n                <form onSubmit = {this.handleDelete}>\n                    <button type=\"submit\" >Delete</button>\n                </form>\n                \n            </div>\n        )\n    }\n}\n\nexport default ArticleDetailView\n","import { Form, Input, Button, Checkbox } from 'antd';\nimport React from 'react'\nimport { NavLink } from 'react-router-dom';\nimport {connect} from 'react-redux' \n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nconst Login = () => {\n  const onFinish = (values) => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return (\n    <Form\n      {...layout}\n      name=\"basic\"\n      initialValues={{\n        remember: true,\n      }}\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n    >\n      <Form.Item\n        label=\"Username\"\n        name=\"username\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your username!',\n          },\n        ]}\n      >\n        <Input />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Password\"\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your password!',\n          },\n        ]}\n      >\n        <Input.Password />\n      </Form.Item>\n\n      <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\n        <Checkbox>Remember me</Checkbox>\n      </Form.Item>\n\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Submit\n        </Button>\n        Or\n        <NavLink style={{marginRight:'10px'}} to='/signup/'>\n            signup\n        </NavLink>\n      </Form.Item>\n    </Form>\n  );\n};\n\nconst mapStateToProps = (state) =>{\n    return {\n        loading : state.loading,\n        error:state.error\n    }\n}\n\nexport default connect(mapStateToProps)(Login);\n\n","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport ArticleListView from './ArticleListView'\nimport ArticleDetailView from './ArticleDetailView'\nimport {Switch} from 'react-router-dom'\nimport Login from './Login'\n\nfunction Routes() {\n    return (\n        <div>\n            <Switch>\n            <Route exact path='/' component={ArticleListView} />\n            <Route exact path='articles/:articleID/' component={ArticleDetailView} />\n            <Route exact path='/login/' component={Login} />\n            </Switch>\n\n        </div>\n    )\n}\n\nexport default Routes\n","export const AUTH_START = 'AUTH_START'\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS'\nexport const AUTH_FAIL = 'AUTH_FAIL'\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT'","import * as actionTypes from './actionTypes'\nimport axios from 'axios'\n\nexport const authStart = () => {\n    return {\n        type: actionTypes.AUTH_START\n\n    }\n}\n\nexport const authSuccess = token =>{\n    return{\n        type: actionTypes.AUTH_SUCCESS,\n        token: token\n    }\n}\n\nexport const authFail = error => {\n    return {\n        type: actionTypes.AUTH_FAIL,\n        error:error\n    }\n}\n\nexport const logout = () => {\n    localStorage.removeItem('user')\n    localStorage.removeItem('expirationDate')\n    return {\n        type: actionTypes.AUTH_LOGOUT\n    }\n}\n\nexport const checkAuthTimeOut = expirationTime => {\n    return dispatch => {\n        setTimeout(() => {\n            dispatch(logout())\n\n        },expirationTime*1000)\n    }\n}\n\nexport const authLogin = (username,password) =>{\n    return dispatch => {\n        dispatch(authStart())\n        axios.post('http://127.0.0.1:8000/rest-auth/login/' ,{\n            username:username,\n            password:password\n        })\n        .then(res => {\n            const token = res.data.key\n            const expirationDate= new Date(new Date().getTime() +3600*1000)\n            localStorage.setItem('token',token)\n            localStorage.setItem('expirationDate',expirationDate)\n            dispatch(authSuccess(token))\n            dispatch(checkAuthTimeOut(3600))\n        })\n        .catch(err => {\n            dispatch(authFail(err))\n        })\n\n    }\n}\n\nexport const authsignUp = (username,email,password1,password2) =>{\n    return dispatch => {\n        dispatch(authStart())\n        axios.post('http://127.0.0.1:8000/rest-auth/registration/' ,{\n            username:username,\n            email:email,\n            password1:password1,\n            password2:password2\n        })\n        .then(res => {\n            const token = res.data.key\n            const expirationDate= new Date(new Date().getTime() +3600*1000)\n            localStorage.setItem('token',token)\n            localStorage.setItem('expirationDate',expirationDate)\n            dispatch(authSuccess(token))\n            dispatch(checkAuthTimeOut(3600))\n        })\n        .catch(err => {\n            dispatch(authFail(err))\n        })\n\n    }\n}\n\nexport const authCheckState = () => {\n    return dispatch => {\n        const token = localStorage.getItem('token')\n        if (token === undefined) {\n            dispatch(logout())\n        }else {\n            const expirationDate = new Date(localStorage.getItem('expirationDate'))\n            if (expirationDate <= new Date()){\n                dispatch(logout())\n            }\n            else{\n                dispatch(authSuccess(token))\n                dispatch(checkAuthTimeOut(expirationDate.getTime() - new Date().getTime())/1000)\n            }\n        }\n    }\n}","// import logo from './logo.svg';\n\nimport 'antd/dist/antd.css';\nimport CustomLayout from './containers/Layout';\nimport Routes from './containers/Routes';\nimport { BrowserRouter as Router,Switch,Route } from 'react-router-dom';\nimport {connect} from 'react-redux'\nimport * as actions from './store/actions/auth'\n\nimport React, { Component } from 'react'\n\n class App extends Component {\n  componentDidMount(){\n    this.props.onTryAutoSignUp()\n  }\n  render() {\n    return (\n      <div>\n        <Router>\n      <Switch>\n       <CustomLayout {...this.props} >\n         <Routes />\n       </CustomLayout >\n       </Switch>\n       </Router>\n        \n      </div>\n    )\n  }\n}\n\n// export default App\n\n\n// function App() {\n  \n//   return (\n    \n//     <div >\n//       <Router>\n//       <Switch>\n//       <CustomLayout {...this.props} >\n//         <Routes />\n//       </CustomLayout >\n//       </Switch>\n//       </Router>\n      \n      \n//     </div>\n    \n//   );\n// }\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.token !== null,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignUp: () => dispatch(actions.authCheckState())\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const updateObject = (oldObject,updatedProperties) => {\n    return {\n        ...oldObject,\n        ...updatedProperties\n    }\n}","import * as actionTypes from '../actions/actionTypes'\nimport {updateObject} from '../utility'\n\nconst initialState = {\n    token:null,\n    error:null,\n    loading:false\n\n}\n\nconst authStart = (state,action) =>{\n    return updateObject(state,{\n        error:null,\n        loading:true\n\n    })\n}\n\nconst authSuccess = (state,action) =>{\n    return updateObject(state,{\n        token:action.token,\n        error:null,\n        loading:false\n    })\n}\n\nconst authFail = (state,action) =>{\n    return updateObject(state,{\n        error:action.error,\n        loading:false\n    })\n}\n\nconst authLogout = (state,action) =>{\n    return updateObject(state,{\n        token:null\n    })\n}\n\nconst reducer = (state=initialState,action) =>{\n    switch(action.type){\n        case actionTypes.AUTH_START: return authStart(state,action)\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state,action)\n        case actionTypes.AUTH_FAIL: return authFail(state,action)\n        case actionTypes.AUTH_LOGOUT: return authLogout(state,action)\n        default:\n            return state\n    }\n\n    }\nexport default reducer","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {compose, createStore,applyMiddleware} from 'redux'\nimport thunk from 'redux-thunk'\nimport reducer from './store/reducers/auth'\nimport {Provider} from 'react-redux'\n\n\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(reducer,composeEnhances(\n  applyMiddleware(thunk)\n))\n\nconst app = (\n  <Provider store={store}>\n     <App />\n  </Provider>\n\n)\n\nReactDOM.render(app,document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}